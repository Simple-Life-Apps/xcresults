
# xcresults

**xcresults** is a command-line tool designed to extract test summaries and screenshots from XCResult files generated by Xcode 11.

## Installation

Build binary with command

`./gradlew clean nativeCompile`

If it cannot find GraalVM, install it with command

`brew install graalvm-jdk`

### For M1 CPU (arm64)

1. Download the executable file:
   ```bash
   wget https://github.com/eroshenkoam/xcresults/releases/latest/download/xcresults
   ```
2. Make the file executable:
   ```bash
   chmod +x xcresults
   ```

### For Intel CPU (i386)

1. Download the appropriate executable file:
   ```bash
   wget https://github.com/eroshenkoam/xcresults/releases/latest/download/xcresults-i386 -o xcresults
   ```
2. Make the file executable:
   ```bash
   chmod +x xcresults
   ```

## Usage

Put a file named excludeRules.json near the binary and add option --excluded=path/to/excludeRules.json:

Example of excludeRules.json:

```
{
   "excluded_prefixes":[
      "Get all elements",
      "Some attachments were deleted",
      "Some screenshots were deleted ",
      "Added attachment ",
      "Get all elements bound by index for:",
      "Checking `",
      "Find the ",
      "Tap \"",
      "Check for interrupting",
      "Waiting ",
      "Swipe down \"",
      "Press \"",
      "Checking existence of "
   ],
   "excluded_strings":[
   ]
}
```

The general command format:
```bash
xcresults <command> <options>
```
For further assistance on any command, use the `--help` option.

### Exporting Results in Allure 2 Format

**For a single file:**
```bash
xcresults export /path/to/Test.xcresult -o /path/to/outputDirectory
```

**For multiple files:**
```bash
xcresults export /path/to/First.xcresult /path/to/Second.xcresult -o /path/to/outputDirectory
```

After exporting, you can generate an Allure report with the following command:

```bash
allure serve /path/to/outputDirectory
```
